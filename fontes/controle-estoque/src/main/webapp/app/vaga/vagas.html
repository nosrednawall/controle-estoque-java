<!-- $scope.mensagem -->
<p class="alert alert-info" ng-show="mensagem.length">{{mensagem}}</p>

<div class="row">
	<div class="col-md-12">
		<form>
			<!--ng-model = "filtro" serve para transferir o input para o controller-->
			<div class="input-group">

				<span class="input-group-btn">
					<a href="#/vaga/new" class="btn btn-primary">Nova vaga</a>
				</span>
				<input ng-model="filtro" class="form-control" placeholder="filtrar" ng-model-options="{debounce: 500}" />
			</div>
			<!--ng-model-options="{debounce:500}"  serve para dar um delay e não aplicar locamente o filtro -->
		</form>
	</div>
	<!--/col-->
</div>
<!--/row-->
<div class="row">
	<div class="col-md-12">
		<div class="table-responsive">
			<table class="table coluna-animada">
				<thead class="thead-dark">
					<tr>
						<th scope="col">Titulo</th>
						<th scope="col">Data criação</th>
						<th scope="col">Data expiração</th>
						<th scope="col">Setor</th>
						<th scope="col">Status</th>
						<th scope="col">Editar</th>
						<th scope="col">Alterar Status</th>
						<th scope="col">Visualizar</th>
					</tr>
				</thead>
				<!--o pipe | filter:filtro é basicamente o filtro que está sendo enviado pelo input acima-->
				<tbody ng-repeat="vaga in vagas | filter:filtro">
					<tr>
						<!--a class dessas colunas é uma animação de transição, porém não finciona com colunas :-( -->
						<th scope="row">{{vaga.titulo}}</th>
						<th scope="row">{{vaga.dataCriacao | date:'dd/MM/yyyy'}}</th>
						<th scope="row">{{vaga.dataExpiracao | date:'dd/MM/yyyy'}}</th>
						<th scope="row">{{vaga.setor.nome}}</th>
						<th scope="row">{{vaga.status}}</th>
						<th scope="row">
							<a class="text-info" href="#/vaga/edit/{{vaga.id}}">
								<i class="fas fa-edit"></i>
							</a>
						</th>
						<th scope="row">
							<p ng-click="alterar(vaga)" class="text-danger">
								<i class="fas fa-times-circle"></i>
							</p>
						</th>
						<th scope="row">
							<a class="text-primary" href="#/vaga-preenchida/view/{{vaga.id}}">
								<i class="fab fa-sistrix"></i>
							</a>
						</th>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>